<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../../../img/favicon.ico">
        <title>Quick Start: Skeleton Installer - mezzio</title>
        <link href="../../../css/bootstrap.min.css" rel="stylesheet">
        <link href="../../../css/font-awesome.min.css" rel="stylesheet">
        <link href="../../../css/base.css" rel="stylesheet">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/github.min.css">
        <link href="../../../css/mezzio.css" rel="stylesheet">

        <script src="../../../js/jquery-1.10.2.min.js" defer></script>
        <script src="../../../js/bootstrap.min.js" defer></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/highlight.min.js"></script>
        <script>hljs.initHighlightingOnLoad();</script> 
    </head>

    <body>
        <div class="navbar fixed-top navbar-expand-lg navbar-dark bg-primary">
            <div class="container">
                <a class="navbar-brand" href="../../..">mezzio</a>
                <!-- Expander button -->
                <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navbar-collapse">
                    <span class="navbar-toggler-icon"></span>
                </button>

                <!-- Expanded navigation -->
                <div id="navbar-collapse" class="navbar-collapse collapse">
                        <!-- Main navigation -->
                        <ul class="nav navbar-nav">
                            <li class="navitem">
                                <a href="../../.." class="nav-link">Home</a>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">v3 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../v3/" class="dropdown-item">Introduction</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Getting Started</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/getting-started/features/" class="dropdown-item">Overview and Features</a>
</li>
            
<li>
    <a href="../../../v3/getting-started/quick-start/" class="dropdown-item">Quick Start</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Features</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/features/middleware-types/" class="dropdown-item">Middleware Types</a>
</li>
            
<li>
    <a href="../../../v3/features/application/" class="dropdown-item">Applications</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Containers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/features/container/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v3/features/container/factories/" class="dropdown-item">Container Factories</a>
</li>
            
<li>
    <a href="../../../v3/features/container/delegator-factories/" class="dropdown-item">Delegator Factories</a>
</li>
            
<li>
    <a href="../../../v3/features/container/middleware-container/" class="dropdown-item">The Middleware Container</a>
</li>
            
<li>
    <a href="../../../v3/features/container/middleware-factory/" class="dropdown-item">The Middleware Factory</a>
</li>
            
<li>
    <a href="../../../v3/features/container/laminas-servicemanager/" class="dropdown-item">Using laminas-servicemanager</a>
</li>
            
<li>
    <a href="../../../v3/features/container/pimple/" class="dropdown-item">Using Pimple</a>
</li>
            
<li>
    <a href="../../../v3/features/container/aura-di/" class="dropdown-item">Using Aura.Di</a>
</li>
            
<li>
    <a href="../../../v3/features/container/config/" class="dropdown-item">Container configuration</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Routing Adapters</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/features/router/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v3/features/router/interface/" class="dropdown-item">Routing Interface</a>
</li>
            
<li>
    <a href="../../../v3/features/router/route-collector/" class="dropdown-item">The Route Collector</a>
</li>
            
<li>
    <a href="../../../v3/features/router/uri-generation/" class="dropdown-item">URI Generation</a>
</li>
            
<li>
    <a href="../../../v3/features/router/piping/" class="dropdown-item">Routing vs Piping</a>
</li>
            
<li>
    <a href="../../../v3/features/router/aura/" class="dropdown-item">Using Aura</a>
</li>
            
<li>
    <a href="../../../v3/features/router/fast-route/" class="dropdown-item">Using FastRoute</a>
</li>
            
<li>
    <a href="../../../v3/features/router/laminas-router/" class="dropdown-item">Using laminas-router</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Templating</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/features/template/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v3/features/template/interface/" class="dropdown-item">Template Renderer Interface</a>
</li>
            
<li>
    <a href="../../../v3/features/template/request-handlers/" class="dropdown-item">Templated Request Handlers</a>
</li>
            
<li>
    <a href="../../../v3/features/template/plates/" class="dropdown-item">Using Plates</a>
</li>
            
<li>
    <a href="../../../v3/features/template/twig/" class="dropdown-item">Using Twig</a>
</li>
            
<li>
    <a href="../../../v3/features/template/laminas-view/" class="dropdown-item">Using laminas-view</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../../v3/features/error-handling/" class="dropdown-item">Error Handling</a>
</li>
            
<li>
    <a href="../../../v3/features/modular-applications/" class="dropdown-item">Modular Applications</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Middleware</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/features/middleware/routing-and-dispatch-middleware/" class="dropdown-item">Routing and Dispatch Middleware</a>
</li>
            
<li>
    <a href="../../../v3/features/middleware/implicit-methods-middleware/" class="dropdown-item">Implicit HEAD and OPTIONS Middleware</a>
</li>
            
<li>
    <a href="../../../v3/features/middleware/method-not-allowed-middleware/" class="dropdown-item">Returning Method Not Allowed</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Helpers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/features/helpers/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v3/features/helpers/url-helper/" class="dropdown-item">UrlHelper</a>
</li>
            
<li>
    <a href="../../../v3/features/helpers/server-url-helper/" class="dropdown-item">ServerUrlHelper</a>
</li>
            
<li>
    <a href="../../../v3/features/helpers/body-parse/" class="dropdown-item">Body Parsing Middleware</a>
</li>
            
<li>
    <a href="../../../v3/features/helpers/content-length/" class="dropdown-item">Content-Length Middleware</a>
</li>
            
<li>
    <a href="../../../v3/features/helpers/template-variable-container/" class="dropdown-item">Template Variable Container</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../../v3/features/emitters/" class="dropdown-item">Emitters</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cookbook</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/cookbook/autowiring-routes-and-pipelines/" class="dropdown-item">Autowiring routes and pipeline middleware</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/using-a-base-path/" class="dropdown-item">Using Mezzio from a subdirectory</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/common-prefix-for-routes/" class="dropdown-item">Prepending a common path to all routes</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/passing-data-between-middleware/" class="dropdown-item">Passing data between middleware</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/path-segregated-routing/" class="dropdown-item">Path-segregated routing</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/access-common-data-in-templates/" class="dropdown-item">Provide Access to Common Data In Templates</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/route-specific-pipeline/" class="dropdown-item">Route-specific middleware pipelines</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/host-segregated-middleware/" class="dropdown-item">Segregating middleware by host</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/double-pass-middleware/" class="dropdown-item">Using double-pass middleware</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/setting-locale-depending-routing-parameter/" class="dropdown-item">Setting a locale based on a routing parameter</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/setting-locale-without-routing-parameter/" class="dropdown-item">Setting a locale without a routing parameter</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/debug-toolbars/" class="dropdown-item">Enabling debug toolbars</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/flash-messengers/" class="dropdown-item">Flash Messengers</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/using-custom-view-helpers/" class="dropdown-item">Registering custom view helpers when using laminas-view</a>
</li>
            
<li>
    <a href="../../../v3/cookbook/using-laminas-form-view-helpers/" class="dropdown-item">Using laminas-form view helpers</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Reference</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v3/why-mezzio/" class="dropdown-item">Why choose Mezzio?</a>
</li>
            
<li>
    <a href="../../../v3/reference/cli-tooling/" class="dropdown-item">CLI Tooling</a>
</li>
            
<li>
    <a href="../../../v3/reference/mezzio-projects/" class="dropdown-item">Mezzio Projects</a>
</li>
            
<li>
    <a href="../../../v3/reference/migration/" class="dropdown-item">Migration</a>
</li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown active">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">v2 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../" class="dropdown-item">Mezzio: PSR-7 Middleware in Minutes</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Getting Started</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../features/" class="dropdown-item">Overview and Features</a>
</li>
            
<li>
    <a href="../standalone/" class="dropdown-item">Quick Start: Standalone</a>
</li>
            
<li>
    <a href="./" class="dropdown-item active">Quick Start: Skeleton Installer</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Features</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../features/middleware-types/" class="dropdown-item">Middleware Types</a>
</li>
            
<li>
    <a href="../../features/application/" class="dropdown-item">Applications</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Containers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../features/container/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../features/container/factories/" class="dropdown-item">Container Factories</a>
</li>
            
<li>
    <a href="../../features/container/delegator-factories/" class="dropdown-item">Delegator Factories</a>
</li>
            
<li>
    <a href="../../features/container/laminas-servicemanager/" class="dropdown-item">Using laminas-servicemanager</a>
</li>
            
<li>
    <a href="../../features/container/pimple/" class="dropdown-item">Using Pimple</a>
</li>
            
<li>
    <a href="../../features/container/aura-di/" class="dropdown-item">Using Aura.Di</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Routing Adapters</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../features/router/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../features/router/interface/" class="dropdown-item">Routing Interface</a>
</li>
            
<li>
    <a href="../../features/router/uri-generation/" class="dropdown-item">URI Generation</a>
</li>
            
<li>
    <a href="../../features/router/piping/" class="dropdown-item">Routing vs Piping</a>
</li>
            
<li>
    <a href="../../features/router/aura/" class="dropdown-item">Using Aura</a>
</li>
            
<li>
    <a href="../../features/router/fast-route/" class="dropdown-item">Using FastRoute</a>
</li>
            
<li>
    <a href="../../features/router/laminas-router/" class="dropdown-item">Using the Laminas Router</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Templating</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../features/template/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../features/template/interface/" class="dropdown-item">Template Renderer Interface</a>
</li>
            
<li>
    <a href="../../features/template/middleware/" class="dropdown-item">Templated Middleware</a>
</li>
            
<li>
    <a href="../../features/template/plates/" class="dropdown-item">Using Plates</a>
</li>
            
<li>
    <a href="../../features/template/twig/" class="dropdown-item">Using Twig</a>
</li>
            
<li>
    <a href="../../features/template/laminas-view/" class="dropdown-item">Using laminas-view</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../features/error-handling/" class="dropdown-item">Error Handling</a>
</li>
            
<li>
    <a href="../../features/modular-applications/" class="dropdown-item">Modular Applications</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Middleware</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../features/middleware/implicit-methods-middleware/" class="dropdown-item">Implicit HEAD and OPTIONS Middleware</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Helpers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../features/helpers/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../features/helpers/url-helper/" class="dropdown-item">UrlHelper</a>
</li>
            
<li>
    <a href="../../features/helpers/server-url-helper/" class="dropdown-item">ServerUrlHelper</a>
</li>
            
<li>
    <a href="../../features/helpers/body-parse/" class="dropdown-item">Body Parsing Middleware</a>
</li>
            
<li>
    <a href="../../features/helpers/content-length/" class="dropdown-item">Content-Length Middleware</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../features/emitters/" class="dropdown-item">Emitters</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cookbook</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../cookbook/autowiring-routes-and-pipelines/" class="dropdown-item">Autowiring routes and pipeline middleware</a>
</li>
            
<li>
    <a href="../../cookbook/common-prefix-for-routes/" class="dropdown-item">Prepending a common path to all routes</a>
</li>
            
<li>
    <a href="../../cookbook/route-specific-pipeline/" class="dropdown-item">Route-specific middleware pipelines</a>
</li>
            
<li>
    <a href="../../cookbook/using-custom-view-helpers/" class="dropdown-item">Registering custom view helpers when using laminas-view</a>
</li>
            
<li>
    <a href="../../cookbook/using-laminas-form-view-helpers/" class="dropdown-item">Using laminas-form view helpers</a>
</li>
            
<li>
    <a href="../../cookbook/using-a-base-path/" class="dropdown-item">Using Mezzio from a subdirectory</a>
</li>
            
<li>
    <a href="../../cookbook/setting-locale-depending-routing-parameter/" class="dropdown-item">Setting a locale based on a routing parameter</a>
</li>
            
<li>
    <a href="../../cookbook/setting-locale-without-routing-parameter/" class="dropdown-item">Setting a locale without a routing parameter</a>
</li>
            
<li>
    <a href="../../cookbook/debug-toolbars/" class="dropdown-item">Enabling debug toolbars</a>
</li>
            
<li>
    <a href="../../cookbook/using-routed-middleware-class-as-controller/" class="dropdown-item">Handling multiple routes in a single class</a>
</li>
            
<li>
    <a href="../../cookbook/flash-messengers/" class="dropdown-item">Flash Messengers</a>
</li>
            
<li>
    <a href="../../cookbook/passing-data-between-middleware/" class="dropdown-item">Passing data between middleware</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Reference</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../why-mezzio/" class="dropdown-item">Why choose Mezzio?</a>
</li>
            
<li>
    <a href="../../reference/cli-tooling/" class="dropdown-item">CLI Tooling</a>
</li>
            
<li>
    <a href="../../reference/usage-examples/" class="dropdown-item">Examples</a>
</li>
            
<li>
    <a href="../../reference/mezzio-projects/" class="dropdown-item">Mezzio Projects</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Migration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../reference/migration/" class="dropdown-item">To version 2</a>
</li>
            
<li>
    <a href="../../reference/migration-to-v2-2/" class="dropdown-item">To version 2.2</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">v1 <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../v1/" class="dropdown-item">Mezzio: PSR-7 Middleware in Minutes</a>
</li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Getting Started</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/getting-started/features/" class="dropdown-item">Overview and Features</a>
</li>
            
<li>
    <a href="../../../v1/getting-started/standalone/" class="dropdown-item">Quick Start: Standalone</a>
</li>
            
<li>
    <a href="../../../v1/getting-started/skeleton/" class="dropdown-item">Quick Start: Skeleton Installer</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Features</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/features/application/" class="dropdown-item">Applications</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Containers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/features/container/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v1/features/container/factories/" class="dropdown-item">Container Factories</a>
</li>
            
<li>
    <a href="../../../v1/features/container/laminas-servicemanager/" class="dropdown-item">Using laminas-servicemanager</a>
</li>
            
<li>
    <a href="../../../v1/features/container/pimple/" class="dropdown-item">Using Pimple</a>
</li>
            
<li>
    <a href="../../../v1/features/container/aura-di/" class="dropdown-item">Using Aura.Di</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Routing Adapters</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/features/router/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v1/features/router/interface/" class="dropdown-item">Routing Interface</a>
</li>
            
<li>
    <a href="../../../v1/features/router/uri-generation/" class="dropdown-item">URI Generation</a>
</li>
            
<li>
    <a href="../../../v1/features/router/piping/" class="dropdown-item">Routing vs Piping</a>
</li>
            
<li>
    <a href="../../../v1/features/router/aura/" class="dropdown-item">Using Aura</a>
</li>
            
<li>
    <a href="../../../v1/features/router/fast-route/" class="dropdown-item">Using FastRoute</a>
</li>
            
<li>
    <a href="../../../v1/features/router/laminas-router/" class="dropdown-item">Using the Laminas Router</a>
</li>
    </ul>
  </li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Templating</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/features/template/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v1/features/template/interface/" class="dropdown-item">Template Renderer Interface</a>
</li>
            
<li>
    <a href="../../../v1/features/template/middleware/" class="dropdown-item">Templated Middleware</a>
</li>
            
<li>
    <a href="../../../v1/features/template/plates/" class="dropdown-item">Using Plates</a>
</li>
            
<li>
    <a href="../../../v1/features/template/twig/" class="dropdown-item">Using Twig</a>
</li>
            
<li>
    <a href="../../../v1/features/template/laminas-view/" class="dropdown-item">Using laminas-view</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../../v1/features/error-handling/" class="dropdown-item">Error Handling</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Helpers</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/features/helpers/intro/" class="dropdown-item">Introduction</a>
</li>
            
<li>
    <a href="../../../v1/features/helpers/url-helper/" class="dropdown-item">UrlHelper</a>
</li>
            
<li>
    <a href="../../../v1/features/helpers/server-url-helper/" class="dropdown-item">ServerUrlHelper</a>
</li>
            
<li>
    <a href="../../../v1/features/helpers/body-parse/" class="dropdown-item">Body Parsing Middleware</a>
</li>
    </ul>
  </li>
            
<li>
    <a href="../../../v1/features/emitters/" class="dropdown-item">Emitters</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Cookbook</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/cookbook/common-prefix-for-routes/" class="dropdown-item">Prepending a common path to all routes</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/route-specific-pipeline/" class="dropdown-item">Route-specific middleware pipelines</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/custom-404-page-handling/" class="dropdown-item">Setting custom 404 page handling</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/using-custom-view-helpers/" class="dropdown-item">Registering custom view helpers when using laminas-view</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/using-laminas-form-view-helpers/" class="dropdown-item">Using laminas-form view helpers</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/using-a-base-path/" class="dropdown-item">Using Mezzio from a subdirectory</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/modular-layout/" class="dropdown-item">Building modular applications</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/setting-locale-depending-routing-parameter/" class="dropdown-item">Setting a locale based on a routing parameter</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/setting-locale-without-routing-parameter/" class="dropdown-item">Setting a locale without a routing parameter</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/debug-toolbars/" class="dropdown-item">Enabling debug toolbars</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/using-routed-middleware-class-as-controller/" class="dropdown-item">Handling multiple routes in a single class</a>
</li>
            
<li>
    <a href="../../../v1/cookbook/flash-messengers/" class="dropdown-item">Flash Messengers</a>
</li>
    </ul>
  </li>
                                    
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Reference</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/why-mezzio/" class="dropdown-item">Why choose Mezzio?</a>
</li>
            
<li>
    <a href="../../../v1/reference/usage-examples/" class="dropdown-item">Examples</a>
</li>
            
<li>
    <a href="../../../v1/reference/mezzio-projects/" class="dropdown-item">Mezzio Projects</a>
</li>
            
  <li class="dropdown-submenu">
    <a href="#" class="dropdown-item">Migration</a>
    <ul class="dropdown-menu">
            
<li>
    <a href="../../../v1/reference/migration/rc-to-v1/" class="dropdown-item">From RC5 and Earlier</a>
</li>
            
<li>
    <a href="../../../v1/reference/migration/to-v1-1/" class="dropdown-item">To Mezzio 1.1</a>
</li>
    </ul>
  </li>
    </ul>
  </li>
                                </ul>
                            </li>
                            <li class="dropdown">
                                <a href="#" class="nav-link dropdown-toggle" data-toggle="dropdown">_hidden-legacy-page-links <b class="caret"></b></a>
                                <ul class="dropdown-menu">
                                    
<li>
    <a href="../../../getting-started/features/" class="dropdown-item">_getting_started_overview</a>
</li>
                                    
<li>
    <a href="../../../getting-started/standalone/" class="dropdown-item">_getting_started_standalone</a>
</li>
                                    
<li>
    <a href="../../../getting-started/skeleton/" class="dropdown-item">_getting_started_skeleton</a>
</li>
                                    
<li>
    <a href="../../../features/middleware-types/" class="dropdown-item">_features_middleware_types</a>
</li>
                                    
<li>
    <a href="../../../features/application/" class="dropdown-item">_features_application</a>
</li>
                                    
<li>
    <a href="../../../features/container/intro/" class="dropdown-item">_features_container_intro</a>
</li>
                                    
<li>
    <a href="../../../features/container/factories/" class="dropdown-item">_features_container_factories</a>
</li>
                                    
<li>
    <a href="../../../features/container/delegator-factories/" class="dropdown-item">_features_container_delegator_factories</a>
</li>
                                    
<li>
    <a href="../../../features/container/laminas-servicemanager/" class="dropdown-item">_features_container_using_laminas-servicemanager</a>
</li>
                                    
<li>
    <a href="../../../features/container/pimple/" class="dropdown-item">_features_container_using_pimple</a>
</li>
                                    
<li>
    <a href="../../../features/container/aura-di/" class="dropdown-item">_features_container_using_aura.di</a>
</li>
                                    
<li>
    <a href="../../../features/router/intro/" class="dropdown-item">_features_router_introduction</a>
</li>
                                    
<li>
    <a href="../../../features/router/interface/" class="dropdown-item">_features_router_interface</a>
</li>
                                    
<li>
    <a href="../../../features/router/uri-generation/" class="dropdown-item">_features_router_uri_generation</a>
</li>
                                    
<li>
    <a href="../../../features/router/piping/" class="dropdown-item">_features_router_piping</a>
</li>
                                    
<li>
    <a href="../../../features/router/aura/" class="dropdown-item">_features_router_using_aura</a>
</li>
                                    
<li>
    <a href="../../../features/router/fast-route/" class="dropdown-item">_features_router_using_fastroute</a>
</li>
                                    
<li>
    <a href="../../../features/router/laminas-router/" class="dropdown-item">_features_router_using_the Laminas Router</a>
</li>
                                    
<li>
    <a href="../../../features/template/intro/" class="dropdown-item">_features_template_intro</a>
</li>
                                    
<li>
    <a href="../../../features/template/interface/" class="dropdown-item">_features_template_interface</a>
</li>
                                    
<li>
    <a href="../../../features/template/middleware/" class="dropdown-item">_features_template_middleware</a>
</li>
                                    
<li>
    <a href="../../../features/template/plates/" class="dropdown-item">_features_template_plates</a>
</li>
                                    
<li>
    <a href="../../../features/template/twig/" class="dropdown-item">_features_template_twig</a>
</li>
                                    
<li>
    <a href="../../../features/template/laminas-view/" class="dropdown-item">_features_template_laminas-view</a>
</li>
                                    
<li>
    <a href="../../../features/error-handling/" class="dropdown-item">_features_error_handling</a>
</li>
                                    
<li>
    <a href="../../../features/modular-applications/" class="dropdown-item">_features_modular_applications</a>
</li>
                                    
<li>
    <a href="../../../features/middleware/implicit-methods-middleware/" class="dropdown-item">_features_middleware_implicit_head_and_options_middleware</a>
</li>
                                    
<li>
    <a href="../../../features/helpers/intro/" class="dropdown-item">_features_helpers_intro</a>
</li>
                                    
<li>
    <a href="../../../features/helpers/url-helper/" class="dropdown-item">_features_helpers_urlhelper</a>
</li>
                                    
<li>
    <a href="../../../features/helpers/server-url-helper/" class="dropdown-item">_features_helpers_serverurlhelper</a>
</li>
                                    
<li>
    <a href="../../../features/helpers/body-parse/" class="dropdown-item">_features_helpers_body_parsing_middleware</a>
</li>
                                    
<li>
    <a href="../../../features/helpers/content-length/" class="dropdown-item">_features_helpers_content_length_middleware</a>
</li>
                                    
<li>
    <a href="../../../features/emitters/" class="dropdown-item">_features_emitters</a>
</li>
                                    
<li>
    <a href="../../../cookbook/autowiring-routes-and-pipelines/" class="dropdown-item">_cookbook_autowiring_routes_and_pipeline_middleware</a>
</li>
                                    
<li>
    <a href="../../../cookbook/common-prefix-for-routes/" class="dropdown-item">_cookbook_prepending_a_common_path_to_all_routes</a>
</li>
                                    
<li>
    <a href="../../../cookbook/route-specific-pipeline/" class="dropdown-item">_cookbook_route-specific_middleware_pipelines</a>
</li>
                                    
<li>
    <a href="../../../cookbook/custom-404-page-handling/" class="dropdown-item">_cookbook_setting_custom_404_page_handling</a>
</li>
                                    
<li>
    <a href="../../../cookbook/using-custom-view-helpers/" class="dropdown-item">_cookbook_registering_custom_view_helpers_when_using_laminas-view</a>
</li>
                                    
<li>
    <a href="../../../cookbook/using-laminas-form-view-helpers/" class="dropdown-item">_cookbook_using_laminas-form_view_helpers</a>
</li>
                                    
<li>
    <a href="../../../cookbook/using-a-base-path/" class="dropdown-item">_cookbook_using_Mezzio_from_a_subdirectory</a>
</li>
                                    
<li>
    <a href="../../../cookbook/modular-layout/" class="dropdown-item">_cookbook_building_modular_applications</a>
</li>
                                    
<li>
    <a href="../../../cookbook/setting-locale-depending-routing-parameter/" class="dropdown-item">_cookbook_setting_a_locale_based_on_a_routing_parameter</a>
</li>
                                    
<li>
    <a href="../../../cookbook/setting-locale-without-routing-parameter/" class="dropdown-item">_cookbook_setting_a_locale_without_a_routing_parameter</a>
</li>
                                    
<li>
    <a href="../../../cookbook/debug-toolbars/" class="dropdown-item">_cookbook_enabling_debug_toolbars</a>
</li>
                                    
<li>
    <a href="../../../cookbook/using-routed-middleware-class-as-controller/" class="dropdown-item">_cookbook_handling_multiple_routes_in_a_single_class</a>
</li>
                                    
<li>
    <a href="../../../cookbook/flash-messengers/" class="dropdown-item">_cookbook_flash_messengers</a>
</li>
                                    
<li>
    <a href="../../../cookbook/passing-data-between-middleware/" class="dropdown-item">_cookbook_passing_data_between_middleware</a>
</li>
                                    
<li>
    <a href="../../../why-mezzio/" class="dropdown-item">_reference_why_mezzio?</a>
</li>
                                    
<li>
    <a href="../../../reference/cli-tooling/" class="dropdown-item">_reference_cli_tooling</a>
</li>
                                    
<li>
    <a href="../../../reference/usage-examples/" class="dropdown-item">_reference_usage_examples</a>
</li>
                                    
<li>
    <a href="../../../reference/mezzio-projects/" class="dropdown-item">_reference_mezzio_Projects</a>
</li>
                                    
<li>
    <a href="../../../reference/migration/to-v2/" class="dropdown-item">_migration_to_v2</a>
</li>
                                    
<li>
    <a href="../../../reference/migration/rc-to-v1/" class="dropdown-item">_migration_from_rc5_and_earlier</a>
</li>
                                    
<li>
    <a href="../../../reference/migration/to-v1-1/" class="dropdown-item">_migration_to_mezzio_1.1</a>
</li>
                                </ul>
                            </li>
                        </ul>

                    <ul class="nav navbar-nav ml-auto">
                        <li class="nav-item">
                            <a href="#" class="nav-link" data-toggle="modal" data-target="#mkdocs_search_modal">
                                <i class="fa fa-search"></i> Search
                            </a>
                        </li>
                            <li class="nav-item">
                                <a rel="prev" href="../standalone/" class="nav-link">
                                    <i class="fa fa-arrow-left"></i> Previous
                                </a>
                            </li>
                            <li class="nav-item">
                                <a rel="next" href="../../features/middleware-types/" class="nav-link">
                                    Next <i class="fa fa-arrow-right"></i>
                                </a>
                            </li>
                            <li class="nav-item">
                                <a href="https://github.com/mezzio/mezzio/edit/master/docs/v2/getting-started/skeleton.md" class="nav-link"><i class="fa fa-github"></i> Edit on GitHub</a>
                            </li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                    <div class="col-md-3"><div class="navbar-light navbar-expand-md bs-sidebar hidden-print affix" role="complementary">
    <div class="navbar-header">
        <button type="button" class="navbar-toggler collapsed" data-toggle="collapse" data-target="#toc-collapse" title="Table of Contents">
            <span class="fa fa-angle-down"></span>
        </button>
    </div>

    
    <div id="toc-collapse" class="navbar-collapse collapse card bg-secondary">
        <ul class="nav flex-column">
            
            <li class="nav-item" data-level="1"><a href="#quick-start-using-the-skeleton-installer" class="nav-link">Quick Start: Using the Skeleton + Installer</a>
              <ul class="nav flex-column">
            <li class="nav-item" data-level="2"><a href="#create-a-new-project" class="nav-link">Create a new project</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#start-a-web-server" class="nav-link">Start a web server</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#development-tools" class="nav-link">Development Tools</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#modules" class="nav-link">Modules</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#adding-middleware" class="nav-link">Adding Middleware</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#next-steps" class="nav-link">Next Steps</a>
              <ul class="nav flex-column">
              </ul>
            </li>
            <li class="nav-item" data-level="2"><a href="#congratulations" class="nav-link">Congratulations!</a>
              <ul class="nav flex-column">
              </ul>
            </li>
              </ul>
            </li>
        </ul>
    </div>
</div></div>
                    <div class="col-md-9" role="main">

<h1 id="quick-start-using-the-skeleton-installer">Quick Start: Using the Skeleton + Installer</h1>
<p>The easiest way to get started with Mezzio is to use the <a href="https://github.com/mezzio/mezzio-skeleton">skeleton
application and installer</a>.
The skeleton provides a generic structure for creating your applications, and
prompts you to choose a router, dependency injection container, template
renderer, and error handler from the outset.</p>
<h2 id="create-a-new-project">Create a new project</h2>
<p>First, we'll create a new project, using Composer's <code>create-project</code> command:</p>
<pre><code class="bash">$ composer create-project mezzio/mezzio-skeleton mezzio
</code></pre>

<p>This will prompt you to choose:</p>
<ul>
<li>
<p>Whether to install a minimal skeleton (no default middleware), a flat
  application structure (all code under <code>src/</code>), or a modular structure
  (directories under <code>src/</code> are modules, each with source code and potentially
  templates, configuration, assets, etc.).</p>
</li>
<li>
<p>A dependency injection container. We recommend using the default, Laminas
  ServiceManager. (We use ServiceManager in the examples below, so 
  choose it if you want to code along).</p>
</li>
<li>
<p>A router. We recommend using the default, FastRoute.</p>
</li>
<li>
<p>A template renderer. You can ignore this when creating an API project, but if
  you will be creating any HTML pages, we recommend installing one. (We use
  Plates in the examples below, so choose it if you want to code along).</p>
</li>
<li>
<p>An error handler. Whoops is a very nice option for development, as it gives
  you extensive, browseable information for exceptions and errors raised.</p>
</li>
</ul>
<h2 id="start-a-web-server">Start a web server</h2>
<p>The Skeleton + Installer creates a full application structure that's ready-to-go
when complete. You can test it out using <a href="http://php.net/manual/en/features.commandline.webserver.php">built-in web
server</a>.</p>
<p>From the project root directory, execute the following:</p>
<pre><code class="bash">$ composer run --timeout=0 serve
</code></pre>

<p>This starts up a web server on localhost port 8080; browse to
http://localhost:8080/ to see if your application responds correctly!</p>
<blockquote>
<h3 id="setting-a-timeout">Setting a timeout</h3>
<p>Composer commands time out after 300 seconds (5 minutes). On Linux-based
systems, the <code>php -S</code> command that <code>composer serve</code> spawns continues running
as a background process, but on other systems halts when the timeout occurs.</p>
<p>As such, we recommend running the <code>serve</code> script using a timeout. This can
be done by using <code>composer run</code> to execute the <code>serve</code> script, with a
<code>--timeout</code> option. When set to <code>0</code>, as in the previous example, no timeout
will be used, and it will run until you cancel the process (usually via
<code>Ctrl-C</code>). Alternately, you can specify a finite timeout; as an example,
the following will extend the timeout to a full day:</p>
<p><code>bash
$ composer run --timeout=86400 serve</code></p>
</blockquote>
<h2 id="development-tools">Development Tools</h2>
<p>We ship tools in our skeleton application to make development easier.</p>
<h3 id="development-mode">Development Mode</h3>
<p><a href="https://github.com/laminas/laminas-development-mode">laminas-development-mode</a> allows
you to enable and disable development mode from your cli.</p>
<pre><code class="bash">$ composer development-enable  # enable development mode
$ composer development-disable # disable development mode
$ composer development-status  # show development status
</code></pre>

<p>The development configuration is set in <code>config/autoload/development.local.php.dist</code>.
It also allows you to specify configuration and modules that should only be enabled
when in development, and not when in production.</p>
<h3 id="clear-config-cache">Clear config cache</h3>
<p>Production settings are the default, which means enabling the configuration cache.
However, it must be easy for developers to clear the configuration cache. That's
what this command does.</p>
<pre><code class="bash">$ composer clear-config-cache
</code></pre>

<h3 id="testing-your-code">Testing Your Code</h3>
<p><a href="https://phpunit.de">PHPUnit</a> and
<a href="https://github.com/squizlabs/PHP_CodeSniffer">PHP_CodeSniffer</a> are now
installed by default. To execute tests and detect coding standards violations,
run the following command:</p>
<pre><code class="bash">$ composer check
</code></pre>

<h3 id="security-advisories">Security Advisories</h3>
<p>We have included the <a href="https://github.com/Roave/SecurityAdvisories">security-advisories</a>
package to notify you about installed dependencies with known security
vulnerabilities. Each time you run <code>composer update</code>, <code>composer install</code>, or
<code>composer require</code>, it prevents installation of software with known and
documented security issues.</p>
<h2 id="modules">Modules</h2>
<p>Composer will prompt you during installation to ask if you want a
minimal application (no structure or default middleware provided), flat
application (all source code under the same tree, and the default selection), or
modular application. This latter option is new in the version 2 series, and
allows you to segregate discrete areas of application functionality into
<em>modules</em>, which can contain source code, templates, assets, and more; these can
later be repackaged for re-use if desired.</p>
<p>Support for modules is available via the
<a href="https://docs.laminas.dev/laminas-component-installer/">laminas-component-installer</a>
and <a href="https://docs.laminas.dev/laminas-config-aggregator/">laminas-config-aggregator</a>
packages; the <a href="https://github.com/mezzio/mezzio-tooling">mezzio-tooling</a>.
package provides tools for creating and manipulating modules in your
application.</p>
<h3 id="component-installer">Component Installer</h3>
<p>Whenever you add a component or module that exposes itself as such, the
<a href="https://docs.laminas.dev/laminas-component-installer/">laminas-component-installer</a>
composer plugin will prompt you, asking if and where you want to inject its
configuration. This ensures that components are wired automatically for you.</p>
<p>In most cases, you will choose to inject in the <code>config/config.php</code> file; for
tools intended only for usage during development, choose
<code>config/development.config.php.dist</code>.</p>
<h3 id="config-aggregator">Config Aggregator</h3>
<p>The <a href="https://docs.laminas.dev/laminas-config-aggregator/">laminas-config-aggregator</a>
library collects and merges configuration from different sources. It also supports
configuration caching.</p>
<p>As an example, your <code>config/config.php</code> file might read as follows in order to
aggregate configuration from development mode settings, application
configuration, and theoretical <code>User</code>, <code>Blog</code>, and <code>App</code> modules:</p>
<pre><code class="php">&lt;?php // config/config.php

$aggregator = new ConfigAggregator([
    // Module configuration
    App\ConfigProvider::class,
    BlogModule\ConfigProvider::class,
    UserModule\ConfigProvider::class,

    // Load application config in a pre-defined order in such a way that local settings
    // overwrite global settings. (Loaded as first to last):
    //   - `global.php`
    //   - `*.global.php`
    //   - `local.php`
    //   - `*.local.php`
    new PhpFileProvider('config/autoload/{{,*.}global,{,*.}local}.php'),

    // Load development config if it exists
    new PhpFileProvider('config/development.config.php'),
], 'data/config-cache.php');

return $aggregator-&gt;getMergedConfig();
</code></pre>

<p>The configuration is merged in the same order as it is passed, with later entries
having precedence.</p>
<h3 id="config-providers">Config Providers</h3>
<p><code>ConfigAggregator</code> works by aggregating "Config Providers" passed to its
constructor. Each provider should be a callable class that requires no
constructor parameters, where invocation returns a configuration array (or a PHP
generator) to be merged.</p>
<p>Libraries or modules can have configuration providers that provide default values
for a library or module. For the <code>UserModule\ConfigProvider</code> class loaded in the
<code>ConfigAggregator</code> above, the <code>ConfigProvider</code> might look like this:</p>
<pre><code class="php">&lt;?php

namespace UserModule;

class ConfigProvider
{
    /**
     * Returns the configuration array
     *
     * To add some sort of a structure, each section is defined in a separate
     * method which returns an array with its configuration.
     *
     * @return array
     */
    public function __invoke()
    {
        return [
            'dependencies' =&gt; $this-&gt;getDependencies(),
            'users'        =&gt; $this-&gt;getConfig(),
        ];
    }

    /**
     * Returns the container dependencies
     *
     * @return array
     */
    public function getDependencies()
    {
        return [
            'factories'  =&gt; [
                Action\LoginAction::class =&gt;
                    Factory\Action\LoginActionFactory::class,

                Middleware\AuthenticationMiddleware::class =&gt;
                    Factory\Middleware\AuthenticationMiddlewareFactory::class,
            ],
        ];
    }

    /**
     * Returns the default module configuration
     *
     * @return array
     */
    public function getConfig()
    {
        return [
            'paths' =&gt; [
                'enable_registration' =&gt; true,
                'enable_username'     =&gt; false,
                'enable_display_name' =&gt; true,
            ],
        ];
    }
}
</code></pre>

<h3 id="mezzio-module-command">mezzio-module command</h3>
<p>To aid in the creation, registration, and deregistration of modules in your
application, the installer will add the <a href="https://github.com/mezzio/mezzio-tooling">mezzio/mezzio-tooling</a>
as a development requirement when you choose the modular application layout.</p>
<p>The tool is available from your application root directory via
<code>./vendor/bin/mezzio-module</code>. For brevity, we will only reference the tool's
name, <code>mezzio-module</code>, when describing its capabilities.</p>
<p>This tool provides the following functionality:</p>
<ul>
<li><code>mezzio-module create &lt;modulename&gt;</code> will create the default directory
  structure for the named module, create a <code>ConfigProvider</code> for the module, add
  an autoloading rule to <code>composer.json</code>, and register the <code>ConfigProvider</code> with
  the application configuration.</li>
<li><code>mezzio-module register &lt;modulename&gt;</code> will add an autoloading rule to
  <code>composer.json</code> for the module, and register its <code>ConfigProvider</code>, if found,
  with the application configuration.</li>
<li><code>mezzio-module deregister &lt;modulename&gt;</code> will remove any autoloading rules
  for the module from <code>composer.json</code>, and deregister its <code>ConfigProvider</code>, if
  found, from the application configuration.</li>
</ul>
<p>You can find out more about its features in the <a href="../../reference/cli-tooling/#modules">command line tooling
documentation</a>.</p>
<h2 id="adding-middleware">Adding Middleware</h2>
<p>The skeleton makes the assumption that you will be writing your middleware as
classes, and uses <a href="../../features/router/piping/">piping and routing</a> to add
your middleware.</p>
<h3 id="piping">Piping</h3>
<p><a href="../../features/router/piping/#piping">Piping</a> is a foundation feature of the
underlying <a href="https://docs.laminas.dev/laminas-stratigility/">laminas-stratigility</a>
implementation. You can setup the middleware pipeline in <code>config/pipeline.php</code>.
In this section, we'll demonstrate setting up a basic pipeline that includes
error handling, segregated applications, routing, middleware dispatch, and more.</p>
<p>The error handler should be the first (most outer) middleware to catch all
exceptions.</p>
<pre><code class="php">$app-&gt;pipe(ErrorHandler::class);
$app-&gt;pipe(ServerUrlMiddleware::class);
</code></pre>

<p>After the <code>ErrorHandler</code> you can pipe more middleware that you want to execute
on every request, such as bootstrapping, pre-conditions, and modifications to
outgoing responses:</p>
<pre><code class="php">$app-&gt;pipe(ServerUrlMiddleware::class);
</code></pre>

<p>Piped middleware may be either callables or service names. Middleware may also
be passed as an array; each item in the array must resolve to middleware
eventually (i.e., callable or service name); underneath, Mezzio creates
<code>Laminas\Stratigility\MiddlewarePipe</code> instances with each of the middleware listed
piped to it.</p>
<p>Middleware can be attached to specific paths, allowing you to mix and match
applications under a common domain. The handlers in each middleware attached
this way will see a URI with the <strong>MATCHED PATH SEGMENT REMOVED!!!</strong></p>
<pre><code class="php">$app-&gt;pipe('/api', $apiMiddleware);
$app-&gt;pipe('/docs', $apiDocMiddleware);
$app-&gt;pipe('/files', $filesMiddleware);
</code></pre>

<p>Next, you should register the routing middleware in the middleware pipeline:</p>
<pre><code class="php">$app-&gt;pipeRoutingMiddleware();
</code></pre>

<p>Add more middleware that needs to introspect the routing results; this might
include:</p>
<ul>
<li>handling for HTTP <code>HEAD</code> requests</li>
<li>handling for HTTP <code>OPTIONS</code> requests</li>
<li>middleware for handling URI generation</li>
<li>route-based authentication</li>
<li>route-based validation</li>
<li>etc.</li>
</ul>
<pre><code class="php">$app-&gt;pipe(ImplicitHeadMiddleware::class);
$app-&gt;pipe(ImplicitOptionsMiddleware::class);
$app-&gt;pipe(UrlHelperMiddleware::class);
</code></pre>

<p>Next, register the dispatch middleware in the middleware pipeline:</p>
<pre><code class="php">$app-&gt;pipeDispatchMiddleware();
</code></pre>

<p>At this point, if no response is return by any middleware, we need to provide a
way of notifying the user of this; by default, we use the <code>NotFoundHandler</code>, but
you can provide any other fallback middleware you wish:</p>
<pre><code class="php">$app-&gt;pipe(NotFoundHandler::class);
</code></pre>

<p>The full example then looks something like this:</p>
<pre><code class="php">// In config/pipeline.php:

use Mezzio\Helper\ServerUrlMiddleware;
use Mezzio\Helper\UrlHelperMiddleware;
use Mezzio\Middleware\ImplicitHeadMiddleware;
use Mezzio\Middleware\ImplicitOptionsMiddleware;
use Mezzio\Middleware\NotFoundHandler;
use Laminas\Stratigility\Middleware\ErrorHandler;

$app-&gt;pipe(ErrorHandler::class);
$app-&gt;pipe(ServerUrlMiddleware::class);

// These assume that the variables listed are defined in this scope:
$app-&gt;pipe('/api', $apiMiddleware);
$app-&gt;pipe('/docs', $apiDocMiddleware);
$app-&gt;pipe('/files', $filesMiddleware);

$app-&gt;pipeRoutingMiddleware();
$app-&gt;pipe(ImplicitHeadMiddleware::class);
$app-&gt;pipe(ImplicitOptionsMiddleware::class);
$app-&gt;pipe(UrlHelperMiddleware::class);
$app-&gt;pipeDispatchMiddleware();

$app-&gt;pipe(NotFoundHandler::class);
</code></pre>

<h3 id="routing">Routing</h3>
<p><a href="../../features/router/piping/#routing">Routing</a> is an additional feature
provided by Mezzio. Routing is setup in <code>config/routes.php</code>.</p>
<p>You can setup routes with a single request method:</p>
<pre><code class="php">$app-&gt;get('/', App\Action\HomePageAction::class, 'home');
$app-&gt;post('/album', App\Action\AlbumCreateAction::class, 'album.create');
$app-&gt;put('/album/:id', App\Action\AlbumUpdateAction::class, 'album.put');
$app-&gt;patch('/album/:id', App\Action\AlbumUpdateAction::class, 'album.patch');
$app-&gt;delete('/album/:id', App\Action\AlbumDeleteAction::class, 'album.delete');
</code></pre>

<p>Or with multiple request methods:</p>
<pre><code class="php">$app-&gt;route('/contact', App\Action\ContactAction::class, ['GET', 'POST', ...], 'contact');
</code></pre>

<p>Or handling all request methods:</p>
<pre><code class="php">$app-&gt;route('/contact', App\Action\ContactAction::class)-&gt;setName('contact');
</code></pre>

<p>Alternately, to be explicit, the above could be written as:</p>
<pre><code class="php">$app-&gt;route(
    '/contact',
    App\Action\ContactAction::class,
    Mezzio\Router\Route::HTTP_METHOD_ANY,
    'contact'
);
</code></pre>

<p>We recommend a single middleware class per combination of route and request
method.</p>
<h2 id="next-steps">Next Steps</h2>
<p>The skeleton provides a default structure for templates, if you choose to use them.
Let's see how you can create your first vanilla middleware, and templated middleware.</p>
<h3 id="creating-middleware">Creating middleware</h3>
<p>To create middleware, create a class implementing
<code>Interop\Http\ServerMiddleware\MiddlewareInterface</code>. This interface defines a
single method, <code>process()</code>, which accepts a
<code>Psr\Http\Message\ServerRequestInterface</code> instance and an
<code>Interop\Http\ServerMiddleware\DelegateInterface</code> instance.</p>
<blockquote>
<h3 id="legacy-double-pass-middleware">Legacy double-pass middleware</h3>
<p>Prior to Mezzio 2.0, the default middleware style was what is termed
"double-pass", for the fact that it passes both the request and response between
layers. This middleware did not require an interface, and relied on a
conventional definition of:</p>
<p>```php
use Psr\Http\Message;</p>
<p>function (
  Message\ServerRequestInterface $request,
  Message\ResponseInterface $response,
  callable $next
) : Message\ResponseInterface
```</p>
<p>While this style of middleware is still quite wide-spread and used in a number
of projects, it has some flaws. Chief among them is the fact that middleware
should not rely on the <code>$response</code> instance provided to them (as it may have
modifications unacceptable for the current context), and that a response
returned from inner layers may not be based off the <code>$response</code> provided to them
(as inner layers may create and return a completely different response).</p>
<p>Starting in Mezzio 2.0, we add support for
<a href="https://github.com/http-interop/http-middleware">http-interop/http-middleware</a>,
which is a working group of <a href="http://www.php-fig.org/">PHP-FIG</a> dedicated to
creating a common middleware standard. This middleware uses what is termed
a "single-pass" or "lambda" architecture, whereby only the request instance is
passed between layers. We now recommend writing middleware using the
http-middleware interfaces for all new middleware.</p>
<p>Middleware using the double-pass style is still accepted by Mezzio, but
support for it will be discontinued with version 3.</p>
</blockquote>
<p>The skeleton defines an <code>App</code> namespace for you, and suggests placing middleware
under the namespace <code>App\Action</code>.</p>
<p>Let's create a "Hello" action. Place the following in
<code>src/App/Action/HelloAction.php</code>:</p>
<pre><code class="php">&lt;?php

namespace App\Action;

use Interop\Http\ServerMiddleware\DelegateInterface;
use Interop\Http\ServerMiddleware\MiddlewareInterface;
use Laminas\Diactoros\Response\HtmlResponse;
use Psr\Http\Message\ServerRequestInterface;

class HelloAction implements MiddlewareInterface
{
    public function process(ServerRequestInterface $request, DelegateInterface $delegate)
    {
        // On all PHP versions:
        $query  = $request-&gt;getQueryParams();
        $target = isset($query['target']) ? $query['target'] : 'World';

        // Or, on PHP 7+:
        $target = $request-&gt;getQueryParams()['target'] ?? 'World';

        $target = htmlspecialchars($target, ENT_HTML5, 'UTF-8');

        return new HtmlResponse(sprintf(
            '&lt;h1&gt;Hello, %s!&lt;/h1&gt;',
            $target
        ));
    }
}
</code></pre>

<p>The above looks for a query string parameter "target", and uses its value to
provide a message, which is then returned in an HTML response.</p>
<p>Now we need to inform the application of this middleware, and indicate what
path will invoke it. Open the file <code>config/autoload/dependencies.global.php</code>.
Edit that file to add an <em>invokable</em> entry for the new middleware:</p>
<pre><code class="php">return [
    'dependencies' =&gt; [
        /* ... */
        'invokables' =&gt; [
            App\Action\HelloAction::class =&gt; App\Action\HelloAction::class,
            /* ... */
        ],
        /* ... */
    ],
];
</code></pre>

<p>Now open the file <code>config/routes.php</code>, and add the following at the bottom of
the file:</p>
<pre><code class="php">$app-&gt;get('/hello', App\Action\HelloAction::class, 'hello');
</code></pre>

<p>Once you've completed the above, give it a try by going to each of the
following URIs:</p>
<ul>
<li>http://localhost:8080/hello</li>
<li>http://localhost:8080/hello?target=ME</li>
</ul>
<p>You should see the message change as you go between the two URIs!</p>
<h3 id="using-templates">Using templates</h3>
<p>You likely don't want to hardcode HTML into your middleware; so, let's use
templates. This particular exercise assumes you chose to use the
<a href="http://platesphp.com">Plates</a> integration. </p>
<p>Templates are installed under the <code>templates/</code> subdirectory. By default, we also
register the template namespace <code>app</code> to correspond with the <code>templates/app</code>
subdirectory. Create the file <code>templates/app/hello-world.phtml</code> with the
following contents:</p>
<pre><code class="php">&lt;?php $this-&gt;layout('layout::default', ['title' =&gt; 'Greetings']) ?&gt;

&lt;h2&gt;Hello, &lt;?= $this-&gt;e($target) ?&gt;&lt;/h2&gt;
</code></pre>

<p>Now that we have a template, we need to:</p>
<ul>
<li>Inject a renderer into our action class.</li>
<li>Use the renderer to render the contents.</li>
</ul>
<p>Replace your <code>src/App/Action/HelloAction.php</code> file with the following contents:</p>
<pre><code class="php">&lt;?php

namespace App\Action;

use Interop\Http\ServerMiddleware\DelegateInterface;
use Interop\Http\ServerMiddleware\MiddlewareInterface;
use Laminas\Diactoros\Response\HtmlResponse;
use Mezzio\Template\TemplateRendererInterface;
use Psr\Http\Message\ServerRequestInterface;

class HelloAction implements MiddlewareInterface
{
    private $renderer;

    public function __construct(TemplateRendererInterface $renderer)
    {
        $this-&gt;renderer = $renderer;
    }

    public function process(ServerRequestInterface $request, DelegateInterface $delegate)
    {
        // On all PHP versions:
        $query  = $request-&gt;getQueryParams();
        $target = isset($query['target']) ? $query['target'] : 'World';

        // Or, on PHP 7+:
        $target = $request-&gt;getQueryParams()['target'] ?? 'World';

        return new HtmlResponse(
            $this-&gt;renderer-&gt;render('app::hello-world', ['target' =&gt; $target])
        );
    }
}
</code></pre>

<p>The above modifies the class to accept a renderer to the constructor, and then
calls on it to render a template. Note that we no longer need to escape our
target; the template takes care of that for us.</p>
<p>How does the template renderer get into the action? The answer is dependency
injection.</p>
<p>For the next part of the example, we'll be creating and wiring a factory for
creating the <code>HelloAction</code> instance; the example assumes you used the default
selection for a dependency injection container, laminas-servicemanager.</p>
<p>laminas-servicemanager provides a console (command line) tool for generating factories 
based on reflecting a class; we'll use that to generate our factory. Navigate to your
root skeleton-app directory in the console and enter the following:</p>
<pre><code class="bash">$ ./vendor/bin/generate-factory-for-class \
&gt; &quot;App\\Action\\HelloAction&quot; &gt; ./src/App/src/Action/HelloActionFactory.php
</code></pre>

<blockquote>
<p>For more information see <a href="https://docs.laminas.dev/laminas-servicemanager/console-tools/#generate-factory-for-class">generate-factory-for-class</a></p>
</blockquote>
<p>With that in place, we'll now update our configuration. Open the file
<code>config/autoload/dependencies.global.php</code>; we'll remove the <code>invokables</code> entry
we created previously, and add a <code>factories</code> entry:</p>
<pre><code class="php">return [
    'dependencies' =&gt; [
        /* ... */
        'invokables' =&gt; [
            // Remove this entry:
            App\Action\HelloAction::class =&gt; App\Action\HelloAction::class,
        ],
        'factories' =&gt; [
            /* ... */
            // Add this:
            App\Action\HelloAction::class =&gt; App\Action\HelloActionFactory::class,
        ],
        /* ... */
    ],
];
</code></pre>

<p>Save that file, and now re-visit the URIs:</p>
<ul>
<li>http://localhost:8080/hello</li>
<li>http://localhost:8080/hello?target=ME</li>
</ul>
<p>Your page should now have the same layout as the landing page of the skeleton
application!</p>
<h2 id="congratulations">Congratulations!</h2>
<p>Congratulations! You've now created your application, and started writing
middleware! It's time to start learning about the rest of the features of
Mezzio:</p>
<ul>
<li><a href="../../features/container/intro/">Containers</a></li>
<li><a href="../../features/router/intro/">Routing</a></li>
<li><a href="../../features/template/intro/">Templating</a></li>
<li><a href="../../features/error-handling/">Error Handling</a></li>
</ul></div>
            </div>
        </div>

        <footer class="col-md-12">
            <hr>
            <p>Documentation built with <a href="https://www.mkdocs.org/">MkDocs</a>.</p>
        </footer>
        <script>
            var base_url = "../../..",
                shortcuts = {"help": 191, "next": 78, "previous": 80, "search": 83};
        </script>
        <script src="../../../js/base.js" defer></script>
        <script src="../../../search/main.js" defer></script>

        <div class="modal" id="mkdocs_search_modal" tabindex="-1" role="dialog" aria-labelledby="searchModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="searchModalLabel">Search</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
                <p>
                    From here you can search these documents. Enter
                    your search terms below.
                </p>
                <form>
                    <div class="form-group">
                        <input type="search" class="form-control" placeholder="Search..." id="mkdocs-search-query" title="Type search term here">
                    </div>
                </form>
                <div id="mkdocs-search-results"></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div><div class="modal" id="mkdocs_keyboard_modal" tabindex="-1" role="dialog" aria-labelledby="keyboardModalLabel" aria-hidden="true">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <h4 class="modal-title" id="keyboardModalLabel">Keyboard Shortcuts</h4>
                <button type="button" class="close" data-dismiss="modal"><span aria-hidden="true">&times;</span><span class="sr-only">Close</span></button>
            </div>
            <div class="modal-body">
              <div class="table-responsive"><table class="table">
                <thead>
                  <tr>
                    <th style="width: 20%;">Keys</th>
                    <th>Action</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="help shortcut"><kbd>?</kbd></td>
                    <td>Open this help</td>
                  </tr>
                  <tr>
                    <td class="next shortcut"><kbd>n</kbd></td>
                    <td>Next page</td>
                  </tr>
                  <tr>
                    <td class="prev shortcut"><kbd>p</kbd></td>
                    <td>Previous page</td>
                  </tr>
                  <tr>
                    <td class="search shortcut"><kbd>s</kbd></td>
                    <td>Search</td>
                  </tr>
                </tbody>
              </table></div>
            </div>
            <div class="modal-footer">
            </div>
        </div>
    </div>
</div>

    </body>
</html>
